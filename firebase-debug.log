[debug] [2025-07-03T02:35:41.107Z] ----------------------------------------------------------------------
[debug] [2025-07-03T02:35:41.109Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\ponce\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2025-07-03T02:35:41.109Z] CLI Version:   14.9.0
[debug] [2025-07-03T02:35:41.109Z] Platform:      win32
[debug] [2025-07-03T02:35:41.109Z] Node Version:  v22.16.0
[debug] [2025-07-03T02:35:41.109Z] Time:          Wed Jul 02 2025 19:35:41 GMT-0700 (Mountain Standard Time)
[debug] [2025-07-03T02:35:41.109Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-07-03T02:35:41.275Z] Object "" in "firebase.json" has unknown property: {"additionalProperty":"project"}
[debug] [2025-07-03T02:35:41.279Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-07-03T02:35:41.279Z] > authorizing via signed-in user (dance@hybriddancers.com)
[info] i  emulators: Starting emulators: functions, hosting, extensions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting, extensions"}}
[debug] [2025-07-03T02:35:41.282Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.282Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.282Z] > refreshing access token with scopes: []
[debug] [2025-07-03T02:35:41.284Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-03T02:35:41.284Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-03T02:35:41.540Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2025-07-03T02:35:41.540Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2025-07-03T02:35:41.541Z] Unable to check that https://cloudresourcemanager.googleapis.com is enabled on super-intelligence-dev. Calls to it will fail if it is not enabled
[debug] [2025-07-03T02:35:41.541Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.541Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.541Z] > refreshing access token with scopes: []
[debug] [2025-07-03T02:35:41.541Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-03T02:35:41.541Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-03T02:35:41.674Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2025-07-03T02:35:41.674Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[error] !!  extensions: Unable to look up project number for super-intelligence-dev.
 If this is a real project, ensure that you are logged in and have access to it.
 If this is a fake project, please use a project ID starting with 'demo-' to skip production calls.
 Continuing with a fake project number - secrets and other features that require production access may behave unexpectedly. {"metadata":{"emulator":{"name":"extensions"},"message":"Unable to look up project number for super-intelligence-dev.\n If this is a real project, ensure that you are logged in and have access to it.\n If this is a fake project, please use a project ID starting with 'demo-' to skip production calls.\n Continuing with a fake project number - secrets and other features that require production access may behave unexpectedly."}}
[debug] [2025-07-03T02:35:41.682Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-03T02:35:41.682Z] [hosting] Hosting Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-03T02:35:41.682Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2025-07-03T02:35:41.686Z] [hub] writing locator at C:\Users\ponce\AppData\Local\Temp\hub-super-intelligence-dev.json
[debug] [2025-07-03T02:35:41.691Z] [Extensions] Started Extensions emulator, this is a noop.
[debug] [2025-07-03T02:35:41.694Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-03T02:35:41.694Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-03T02:35:41.694Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2025-07-03T02:35:41.694Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"hosting":[{"address":"127.0.0.1","family":"IPv4","port":5000}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: apphosting, auth, firestore, database, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mapphosting, auth, firestore, database, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2025-07-03T02:35:41.745Z] defaultcredentials: writing to file C:\Users\ponce\AppData\Roaming\firebase\dance_hybriddancers_com_application_default_credentials.json
[debug] [2025-07-03T02:35:41.746Z] Setting GAC to C:\Users\ponce\AppData\Roaming\firebase\dance_hybriddancers_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\ponce\\AppData\\Roaming\\firebase\\dance_hybriddancers_com_application_default_credentials.json"}}
[debug] [2025-07-03T02:35:41.746Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.746Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.746Z] > refreshing access token with scopes: []
[debug] [2025-07-03T02:35:41.746Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-03T02:35:41.746Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-03T02:35:41.864Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2025-07-03T02:35:41.865Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2025-07-03T02:35:41.865Z] Failed to get Admin SDK config for super-intelligence-dev, falling back to cache Failed to get Admin SDK for Firebase project super-intelligence-dev. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project super-intelligence-dev. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Authentication Error: Your credentials are no longer valid. Please run \u001b[1mfirebase login --reauth\u001b[22m\n\nFor CI servers and headless environments, generate a new token with \u001b[1mfirebase login:ci\u001b[22m","status":500},"status":500}
[warn] !  functions: Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect. {"metadata":{"emulator":{"name":"functions"},"message":"Unable to fetch project Admin SDK configuration, Admin SDK behavior in Cloud Functions emulator may be incorrect."}}
[debug] [2025-07-03T02:35:41.874Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.874Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.874Z] > refreshing access token with scopes: []
[debug] [2025-07-03T02:35:41.874Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-03T02:35:41.874Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-03T02:35:41.996Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2025-07-03T02:35:41.996Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2025-07-03T02:35:41.996Z] Failed to list hosting sites
[debug] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2025-07-03T02:35:41.997Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.997Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:41.997Z] > refreshing access token with scopes: []
[debug] [2025-07-03T02:35:41.997Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-03T02:35:41.997Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-03T02:35:42.103Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2025-07-03T02:35:42.103Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2025-07-03T02:35:42.104Z] fetchWebSetup error: FirebaseError: Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[warn] !  hosting: Could not fetch web app configuration and there is no cached configuration on this machine. Check your internet connection and make sure you are authenticated. To continue, you must call firebase.initializeApp({...}) in your code before using Firebase. 
[debug] [2025-07-03T02:35:42.105Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:42.105Z] Checked if tokens are valid: false, expires at: 1750729679945
[debug] [2025-07-03T02:35:42.105Z] > refreshing access token with scopes: []
[debug] [2025-07-03T02:35:42.105Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2025-07-03T02:35:42.105Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2025-07-03T02:35:42.225Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 400
[debug] [2025-07-03T02:35:42.225Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[error] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[debug] [2025-07-03T02:35:42.226Z] Authentication Error: Your credentials are no longer valid. Please run firebase login --reauth

For CI servers and headless environments, generate a new token with firebase login:ci
[info] i  hosting[super-intelligence-dev]: Serving hosting files from: public {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mpublic\u001b[22m"}}
[info] +  hosting[super-intelligence-dev]: Local server: http://127.0.0.1:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://127.0.0.1:5000\u001b[22m\u001b[24m"}}
[debug] [2025-07-03T02:35:42.240Z] [Extensions] Connecting Extensions emulator, this is a noop.
[info] i  functions: Watching "C:\Users\ponce\Desktop\LFGI\Super-Intelligence\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\ponce\\Desktop\\LFGI\\Super-Intelligence\\functions\" for Cloud Functions..."}}
[debug] [2025-07-03T02:35:42.244Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2025-07-03T02:35:43.091Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Firebase Cloud Functions for Opportunity Engine",
  "engines": {
    "node": "18"
  },
  "dependencies": {
    "firebase-admin": "^11.0.0",
    "firebase-functions": "^3.20.1",
    "ws": "^8.13.0"
  },
  "scripts": {
    "test": "node testRoadmapAgent.js && node testResumeAgent.js && node testOpportunityAgent.js && node testOnboardingFlow.js && node testInsightsAgent.js && node testAnomalyAgent.js && node testTrendsAgent.js && node testSummarizeReplayLogs.js && node testLifecycleFlow.js"
  }
}
[debug] [2025-07-03T02:35:43.091Z] Building nodejs source
[debug] [2025-07-03T02:35:43.091Z] Failed to find version of module node: reached end of search path C:\Users\ponce\Desktop\LFGI\Super-Intelligence\functions\node_modules
[warn] !  functions: Your requested "node" version "18" doesn't match your global version "22". Using node@22 from host. 
[info] i  functions: You are using a version of firebase-functions SDK (3.24.1) that does not have support for the newest Firebase Extensions features. Please update firebase-functions SDK to >=5.1.0 to use them correctly 
[debug] [2025-07-03T02:35:43.093Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-07-03T02:35:43.099Z] Found firebase-functions binary at 'C:\Users\ponce\Desktop\LFGI\Super-Intelligence\node_modules\.bin\firebase-functions'
[info] Serving at port 8810

[debug] [2025-07-03T02:35:43.373Z] Got response from /__/functions.yaml {"endpoints":{"onCreateUser":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/super-intelligence-dev/databases/(default)/documents/users/{uid}"},"retry":false},"labels":{},"entryPoint":"onCreateUser"},"getLogs":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"getLogs"},"retryAgentRun":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"retryAgentRun"},"replayAgentRun":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"replayAgentRun"},"summarizeReplayLogs":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"summarizeReplayLogs"},"anomalyCron":{"platform":"gcfv1","scheduleTrigger":{"schedule":"every 24 hours"},"labels":{},"entryPoint":"anomalyCron"},"updateAgentState":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"updateAgentState"},"logCommit":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"logCommit"},"agentSyncSubscribe":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"agentSyncSubscribe"},"cleanupOldReplays":{"platform":"gcfv1","scheduleTrigger":{"schedule":"every 24 hours"},"labels":{},"entryPoint":"cleanupOldReplays"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] shutdown requested via /__/quitquitquit

[info] +  functions: Loaded functions definitions from source: onCreateUser, getLogs, retryAgentRun, replayAgentRun, summarizeReplayLogs, anomalyCron, updateAgentState, logCommit, agentSyncSubscribe, cleanupOldReplays. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onCreateUser, getLogs, retryAgentRun, replayAgentRun, summarizeReplayLogs, anomalyCron, updateAgentState, logCommit, agentSyncSubscribe, cleanupOldReplays."}}
[info] i  functions[us-central1-onCreateUser]: function ignored because the firestore emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the firestore emulator does not exist or is not running."}}
[info] +  functions[us-central1-getLogs]: http function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/getLogs). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/getLogs)."}}
[info] +  functions[us-central1-retryAgentRun]: http function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/retryAgentRun). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/retryAgentRun)."}}
[info] +  functions[us-central1-replayAgentRun]: http function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/replayAgentRun). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/replayAgentRun)."}}
[info] +  functions[us-central1-summarizeReplayLogs]: http function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/summarizeReplayLogs). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/summarizeReplayLogs)."}}
[info] i  functions[us-central1-anomalyCron]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[info] +  functions[us-central1-updateAgentState]: http function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/updateAgentState). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/updateAgentState)."}}
[info] +  functions[us-central1-logCommit]: http function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/logCommit). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/logCommit)."}}
[info] +  functions[us-central1-agentSyncSubscribe]: http function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/agentSyncSubscribe). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/super-intelligence-dev/us-central1/agentSyncSubscribe)."}}
[info] i  functions[us-central1-cleanupOldReplays]: function ignored because the pubsub emulator does not exist or is not running. {"metadata":{"emulator":{"name":"functions"},"message":"function ignored because the pubsub emulator does not exist or is not running."}}
[debug] [2025-07-03T02:35:47.414Z] Could not find VSCode notification endpoint: FetchError: request to http://localhost:40001/vscode/notify failed, reason: . If you are not running the Firebase Data Connect VSCode extension, this is expected and not an issue.
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────┬────────────────┬──────────────────────────────────┐
│ Emulator   │ Host:Port      │ View in Emulator UI              │
├────────────┼────────────────┼──────────────────────────────────┤
│ Functions  │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions  │
├────────────┼────────────────┼──────────────────────────────────┤
│ Hosting    │ 127.0.0.1:5000 │ n/a                              │
├────────────┼────────────────┼──────────────────────────────────┤
│ Extensions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/extensions │
└────────────┴────────────────┴──────────────────────────────────┘
  Emulator Hub host: 127.0.0.1 port: 4400
  Other reserved ports: 4500
┌─────────────────────────┬───────────────┬─────────────────────┐
│ Extension Instance Name │ Extension Ref │ View in Emulator UI │
└─────────────────────────┴───────────────┴─────────────────────┘
Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
